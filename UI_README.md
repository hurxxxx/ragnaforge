# 🔍 Ragnaforge RAG 시스템 - UI 가이드

## 📋 개요

Ragnaforge RAG 시스템의 Streamlit 기반 웹 UI입니다. 직관적인 인터페이스를 통해 문서 업로드, 검색, AI 챗봇 등의 모든 기능을 쉽게 사용할 수 있습니다.

## 🚀 빠른 시작

### 1. 의존성 설치
```bash
pip install -r requirements_streamlit.txt
```

### 2. FastAPI 서버 실행 (필수)
```bash
# 터미널 1에서
python main.py
```

### 3. Streamlit UI 실행
```bash
# 터미널 2에서
./run_ui.sh
# 또는
streamlit run streamlit_app.py
```

### 4. 브라우저 접속
- UI: http://localhost:8501
- API: http://localhost:8000

## 🎯 주요 기능

### 📄 문서 관리 탭
- **파일 업로드**: PDF 파일 드래그 앤 드롭 업로드
- **처리 옵션**: 변환 방법, 청킹 전략, 임베딩 설정
- **문서 목록**: 업로드된 모든 문서 조회 및 관리
- **실시간 처리**: 업로드와 동시에 문서 처리 진행

### 🔍 검색 탭
- **다양한 검색 타입**:
  - 벡터 검색 (의미론적 유사도)
  - 텍스트 검색 (키워드 기반)
  - 하이브리드 검색 (벡터 + 텍스트)
- **고급 설정**:
  - 결과 수 조정
  - 점수 임계값 설정
  - 가중치 조정 (하이브리드)
  - 리랭킹 적용

### 📊 검색 결과 탭
- **상세 결과 표시**: 점수, 내용, 메타데이터
- **하이라이트**: 검색어 강조 표시
- **통계 정보**: 검색 시간, 평균 점수 등
- **소스 추적**: 원본 문서 정보

### 🤖 AI 챗봇 탭
- **문서 기반 QA**: 업로드된 문서를 바탕으로 질문 답변
- **실시간 대화**: 채팅 형태의 자연스러운 대화
- **참조 문서**: 답변 근거가 된 문서 표시
- **설정 옵션**: 검색 결과 수, 리랭킹 적용 등

### 📈 시스템 통계 탭
- **저장소 통계**: 사용량, 파일 수, 평균 크기
- **성능 모니터링**: 응답 시간, 요청 수 추이
- **파일 분포**: 타입별 분포 차트
- **최근 활동**: 최근 업로드 파일 목록

## ⚙️ 시스템 상태 모니터링

사이드바에서 실시간으로 확인 가능:
- **API 서버**: FastAPI 백엔드 상태
- **벡터 DB**: Qdrant 연결 상태
- **리랭크 서비스**: BGE 리랭커 상태

## 🔧 설정 옵션

### API 설정
- **API 키**: 기본값 `sk-ragnaforge-v1-test-key-12345`
- **서버 URL**: 기본값 `http://localhost:8000`

### 검색 설정
- **임베딩 모델**: `nlpai-lab/KURE-v1` (한국어 특화)
- **리랭크 모델**: `dragonkue/bge-reranker-v2-m3-ko`
- **청킹 전략**: Recursive, Semantic
- **변환 방법**: Marker, Docling

## 📱 사용 시나리오

### 1. 문서 업로드 및 검색
1. "문서 관리" 탭에서 PDF 파일 업로드
2. 처리 옵션 설정 후 "업로드 및 처리" 클릭
3. "검색" 탭에서 검색어 입력 및 검색 실행
4. "검색 결과" 탭에서 결과 확인

### 2. AI 챗봇 사용
1. 문서 업로드 완료 후
2. "AI 챗봇" 탭에서 질문 입력
3. 문서 기반 답변 및 참조 문서 확인

### 3. 시스템 모니터링
1. "시스템 통계" 탭에서 전체 현황 파악
2. 사이드바에서 실시간 상태 확인
3. 성능 차트로 시스템 추이 분석

## 🎨 UI 특징

### 반응형 디자인
- 데스크톱, 태블릿, 모바일 지원
- 다양한 화면 크기에 최적화

### 실시간 업데이트
- 검색 결과 즉시 반영
- 시스템 상태 실시간 모니터링
- 채팅 히스토리 자동 저장

### 사용자 친화적
- 직관적인 아이콘과 색상
- 명확한 상태 표시
- 도움말 및 가이드 제공

## 🔍 고급 기능

### 검색 최적화
- **하이브리드 검색**: 벡터와 텍스트 검색 결합
- **리랭킹**: 한국어 특화 재순위화
- **필터링**: 점수 임계값 기반 결과 필터링

### 성능 분석
- **응답 시간 추적**: 검색 성능 모니터링
- **사용량 통계**: 저장소 및 리소스 사용량
- **중복 감지**: 중복 파일 자동 감지 및 공간 절약

## 🚨 문제 해결

### 일반적인 문제
1. **UI가 로드되지 않음**
   - FastAPI 서버 실행 확인
   - 포트 충돌 확인 (8000, 8501)

2. **검색 결과가 없음**
   - 문서 업로드 및 처리 완료 확인
   - 임베딩 생성 상태 확인

3. **챗봇이 응답하지 않음**
   - 문서 검색 기반 답변 설정 확인
   - 검색 결과 수 조정

### 로그 확인
- FastAPI 서버 로그: 터미널 1
- Streamlit 로그: 터미널 2
- 브라우저 개발자 도구 콘솔

## 📞 지원

문제가 발생하거나 기능 요청이 있으시면:
- GitHub Issues: [ragnaforge/issues](https://github.com/hurxxxx/ragnaforge/issues)
- 이메일: support@ragnaforge.com

---

**🎉 KURE 문서 검색 시스템으로 효율적인 문서 관리와 검색을 경험해보세요!**
