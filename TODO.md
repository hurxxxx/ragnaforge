# Ragnaforge Development TODO

## 📊 현재 구현 상태 분석

### ✅ 구현 완료된 기능

#### 🧠 임베딩 & 기본 API
- [x] OpenAI 호환 임베딩 API (`/embeddings`)
- [x] 유사도 계산 API (`/similarity`)
- [x] 텍스트 청킹 API (`/v1/chunk`)
- [x] 모델 관리 (`/models`, `/health`)
- [x] KURE-v1, KoE5 모델 지원
- [x] Bearer 토큰 인증
- [x] OpenAPI 3.0 문서화

#### 📄 문서 변환
- [x] Marker PDF 변환 (`/v1/convert/marker`)
- [x] Docling PDF 변환 (`/v1/convert/docling`)
- [x] 변환 성능 비교 (`/v1/convert/compare`)
- [x] 이미지 추출 지원
- [x] GPU 가속 지원

#### 🔧 인프라
- [x] FastAPI 기반 REST API
- [x] CORS 미들웨어
- [x] 로깅 시스템
- [x] 환경 설정 관리
- [x] 에러 처리

### ❌ 미구현 기능 (우선순위별)

## 🚨 HIGH PRIORITY - 핵심 RAG 시스템

### 1. 📄 파일 업로드 API
**현재 상태**: 파일 경로만 받는 API만 존재
**필요 작업**:
- [ ] `POST /convert/document` - 멀티파트 파일 업로드
- [ ] DOCX, PPTX 지원 확장
- [ ] 파일 크기 제한 및 검증
- [ ] 임시 파일 관리

### 2. 💾 데이터베이스 통합
**현재 상태**: 완전 미구현
**필요 작업**:
- [ ] Vector Database 서비스 (Chroma/Qdrant/Weaviate)
- [ ] Fulltext Search 서비스 (Elasticsearch/PostgreSQL FTS)
- [ ] 문서 메타데이터 저장
- [ ] 청크 저장 및 관리
- [ ] 데이터베이스 설정 및 연결

### 3. 🔍 하이브리드 RAG 검색
**현재 상태**: 완전 미구현
**필요 작업**:
- [ ] `POST /search` - 하이브리드 검색 API
- [ ] Vector 검색 구현
- [ ] Fulltext 검색 구현
- [ ] 하이브리드 점수 결합 알고리즘
- [ ] 검색 결과 모델 정의

### 4. 🎯 Rerank 시스템
**현재 상태**: 완전 미구현
**필요 작업**:
- [ ] `POST /rerank` - 재순위화 API
- [ ] Cross-encoder 모델 통합
- [ ] 검색 결과 재점수화
- [ ] Rerank 모델 설정 및 관리

### 5. 📊 문서 처리 파이프라인
**현재 상태**: 개별 API만 존재, 통합 파이프라인 없음
**필요 작업**:
- [ ] 문서 → 마크다운 → 청킹 → 임베딩 → 저장 파이프라인
- [ ] 배치 처리 지원
- [ ] 진행 상태 추적
- [ ] 에러 복구 메커니즘

## 🔶 MEDIUM PRIORITY - 시스템 개선

### 6. 🗄️ 데이터 관리
**필요 작업**:
- [ ] 문서 CRUD API
- [ ] 문서 목록 및 검색
- [ ] 문서 삭제 및 업데이트
- [ ] 메타데이터 관리

### 7. ⚙️ 설정 확장
**필요 작업**:
- [ ] 데이터베이스 설정 추가
- [ ] Rerank 설정 추가
- [ ] 하이브리드 검색 가중치 설정
- [ ] 환경별 설정 분리

### 8. 📈 모니터링 & 통계
**필요 작업**:
- [ ] `GET /stats` - 시스템 통계 API
- [ ] 검색 성능 메트릭
- [ ] 사용량 추적
- [ ] 에러 모니터링

## 🔷 LOW PRIORITY - 고급 기능

### 9. 🌐 MCP (Model Context Protocol) 지원
**필요 작업**:
- [ ] MCP 서버 구현
- [ ] 프로토콜 스펙 준수
- [ ] AI 모델 통합 인터페이스

### 10. 🕷️ 웹 크롤링
**필요 작업**:
- [ ] 웹 크롤러 서비스
- [ ] URL 기반 문서 수집
- [ ] 크롤링 스케줄링

### 11. 🔗 공공 데이터 API 연계
**필요 작업**:
- [ ] 외부 API 통합 프레임워크
- [ ] 데이터 소스 관리
- [ ] 자동 데이터 수집

## 🛠️ 기술적 개선사항

### 12. 🔧 코드 구조 개선
**필요 작업**:
- [ ] 서비스 레이어 확장
- [ ] 의존성 주입 패턴
- [ ] 에러 처리 표준화
- [ ] 로깅 개선

### 13. 🧪 테스트 확장
**필요 작업**:
- [ ] 통합 테스트 추가
- [ ] 성능 테스트 자동화
- [ ] API 테스트 커버리지 확장

### 14. 📦 배포 개선
**필요 작업**:
- [ ] Docker 컨테이너화
- [ ] 환경별 배포 스크립트
- [ ] 헬스체크 개선

## 🎯 다음 스프린트 계획

### Sprint 1: 핵심 RAG 기능 (1-2주)
1. 파일 업로드 API 구현
2. Vector Database 통합 (Chroma 우선)
3. 기본 검색 API 구현

### Sprint 2: 하이브리드 검색 (1주)
1. Fulltext Search 통합
2. 하이브리드 검색 알고리즘
3. 검색 결과 최적화

### Sprint 3: Rerank & 파이프라인 (1주)
1. Rerank 시스템 구현
2. 전체 문서 처리 파이프라인
3. 성능 최적화

## 📋 개발 가이드라인

### 코딩 원칙
- 기존 코드 스타일 유지
- 서비스 레이어 패턴 준수
- OpenAPI 스펙 완전 준수
- 에러 처리 및 로깅 표준화

### 우선순위 결정 기준
1. 핵심 RAG 기능 완성도
2. 사용자 경험 개선
3. 시스템 안정성
4. 확장성 및 유지보수성
