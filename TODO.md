# Ragnaforge Development TODO (풀스택 통합 개발)

## 🚀 현재 우선순위 작업

### 🔶 HIGH PRIORITY

#### 0. 🏗️ 기본 프론트엔드 인프라 구축 (1-2주)
- [ ] **React 프로젝트 설정**
  - [ ] Vite + React + TypeScript 프로젝트 생성
  - [ ] 필수 의존성 설치 (React Query, Zustand, Ant Design, Axios)
  - [ ] ESLint, Prettier 코드 품질 도구 설정
  - [ ] 기본 폴더 구조 및 컨벤션 설정
- [ ] **기본 레이아웃 및 라우팅**
  - [ ] 메인 레이아웃 컴포넌트 (Header, Sidebar, Main)
  - [ ] React Router 설정 및 기본 페이지 라우팅
  - [ ] 네비게이션 메뉴 및 브레드크럼
  - [ ] 반응형 디자인 기본 구조
- [ ] **API 클라이언트 및 상태 관리**
  - [ ] Axios 기반 API 클라이언트 설정
  - [ ] React Query 설정 및 기본 훅
  - [ ] Zustand 스토어 기본 구조
  - [ ] 인증 시스템 (API 키 관리)
- [ ] **공통 컴포넌트**
  - [ ] 로딩 스피너, 에러 바운더리
  - [ ] 공통 폼 컴포넌트 (Input, Button, Modal)
  - [ ] 알림 시스템 (Toast, Notification)
  - [ ] 기본 테마 및 스타일 시스템

#### 1. 📁 문서 관리 시스템 (풀스택 개발, 3-4주)
- [ ] **백엔드: 파일 스토리지 시스템**
  - [ ] 원본 파일 저장 및 관리 API
  - [ ] 변환된 마크다운 파일 저장 API
  - [ ] 추출된 이미지 파일 저장 API
  - [ ] 파일 버전 관리 시스템 API
- [ ] **프론트엔드: 문서 관리 UI**
  - [ ] 드라이브 형태의 파일 브라우저 (트리뷰, 그리드뷰)
  - [ ] 드래그앤드롭 파일 업로드 인터페이스
  - [ ] 마크다운 편집기 통합 (Monaco Editor)
  - [ ] 이미지 뷰어 및 갤러리 관리
  - [ ] 문서 메타데이터 편집 폼
  - [ ] 파일 검색 및 필터링 UI
- [ ] **백엔드: 문서 키 기반 연관관계 시스템**
  - [ ] 문서별 고유 키 발급 시스템
  - [ ] 원본-변환-청크-벡터 데이터 연관관계 DB 설계
  - [ ] 문서 수정 시 자동 재벡터화 파이프라인
  - [ ] 기존 인덱스 삭제 및 업데이트 로직

#### 2. 🔄 스마트 중복 파일 관리 (풀스택 개발, 2-3주)
- [ ] **백엔드: 변환 캐싱 전략**
  - [ ] 원본 파일 해시 기반 중복 검사 API
  - [ ] 마크다운 변환 결과 캐싱 시스템
  - [ ] 파일시스템 존재 여부 검증 로직
  - [ ] 변환 비용 최적화 (docling/marker 캐싱)
- [ ] **프론트엔드: 중복 관리 UI**
  - [ ] 중복 파일 감지 결과 표시 대시보드
  - [ ] 캐싱 상태 시각화 (히트율, 저장 공간)
  - [ ] 중복 파일 병합/삭제 인터페이스
  - [ ] 캐시 관리 도구 (수동 삭제, 정리)
- [ ] **백엔드: 개별 벡터화 전략**
  - [ ] 사용자별 메타 필터 대비 시스템
  - [ ] 중복 파일도 개별 벡터 데이터 생성
  - [ ] 새로운 문서 키 발급 시스템

#### 3. 🔍 하이브리드 검색 시스템 재구현 (풀스택 개발, 3-4주)
- [ ] **백엔드: 새로운 하이브리드 검색 API** - `POST /v1/search/hybrid`
  - [ ] 듀얼 인덱스 전략 구현 (문서 레벨 + 청크 레벨)
  - [ ] 계층적 검색 파이프라인 (문서 필터링 → 청크 정밀 검색)
  - [ ] 스마트 융합 알고리즘 (RRF + 가중치 조합)
  - [ ] 청크 단위 텍스트 검색 인덱스 추가
- [ ] **프론트엔드: 고급 검색 인터페이스**
  - [ ] 통합 검색 폼 (텍스트/벡터/하이브리드 모드)
  - [ ] 실시간 검색 제안 및 자동완성
  - [ ] 고급 필터 옵션 (날짜, 파일타입, 점수 범위)
  - [ ] 가중치 조정 슬라이더 (텍스트 vs 벡터)
  - [ ] 검색 히스토리 및 즐겨찾기
- [ ] **백엔드: 검색 결과 품질 향상**
  - [ ] 정밀한 하이라이팅 (청크 레벨)
  - [ ] 컨텍스트 정보 풍부화
  - [ ] 문서 요약/보고서 생성 최적화
- [ ] **프론트엔드: 검색 결과 시각화**
  - [ ] 검색 결과 카드 레이아웃 (그리드/리스트 뷰)
  - [ ] 하이라이팅된 텍스트 표시
  - [ ] 관련도 점수 시각화 (차트, 게이지)
  - [ ] 검색 성능 메트릭 대시보드

#### 4. 🕷️ URL 크롤링 시스템 (풀스택 개발, 2-3주)
- [ ] **백엔드: URL 크롤링 API**
  - [ ] `POST /v1/crawl/url` - URL 기반 문서 수집 API
  - [ ] 다중 파일 형식 지원 (웹페이지, PDF, 이미지, Office)
  - [ ] 자동 텍스트 추출 및 벡터화
  - [ ] 크롤링 작업 큐 및 스케줄링 시스템
- [ ] **프론트엔드: 크롤링 관리 UI**
  - [ ] URL 입력 및 검증 폼
  - [ ] 크롤링 옵션 설정 (깊이, 필터, 스케줄)
  - [ ] 크롤링 작업 상태 모니터링 대시보드
  - [ ] 크롤링 히스토리 및 결과 관리
  - [ ] 배치 URL 처리 인터페이스

### 🔶 MEDIUM PRIORITY

#### 5. 📈 모니터링 & 분석 확장 (풀스택 개발, 2-3주)
- [ ] **백엔드: 메트릭 수집 시스템**
  - [ ] 검색 성능 메트릭 수집 API
  - [ ] 시스템 리소스 모니터링 API
  - [ ] 검색 품질 메트릭 API
- [ ] **프론트엔드: 분석 대시보드**
  - [ ] 사용량 분석 대시보드
  - [ ] 에러 모니터링 및 알림 UI
  - [ ] 실시간 성능 차트
  - [ ] 커스텀 메트릭 설정 UI

#### 6. ⚙️ 설정 시스템 확장 (풀스택 개발, 1-2주)
- [ ] **백엔드: 동적 설정 API**
  - [ ] Rerank 모델 설정 API
  - [ ] 하이브리드 검색 가중치 설정 API
  - [ ] 환경별 설정 분리 (dev/staging/prod)
  - [ ] 동적 설정 변경 API
- [ ] **프론트엔드: 설정 관리 UI**
  - [ ] 시스템 설정 페이지
  - [ ] 모델 설정 인터페이스
  - [ ] 설정 검증 및 백업 UI
  - [ ] 설정 변경 히스토리

#### 7. 🔄 새로운 백엔드 추가 (백엔드 중심, 2-3주)
- [ ] OpenSearch 백엔드 구현
- [ ] Milvus 백엔드 구현
- [ ] Elasticsearch 백엔드 구현
- [ ] 백엔드 성능 비교 도구 (프론트엔드 포함)

### 🔷 LOW PRIORITY

#### 8. 🧠 임베딩 모델 성능 보완
- [ ] 감정 분석 모델 통합
- [ ] 동음이의어 감지 시스템
- [ ] 하이브리드 유사도 계산 시스템
- [ ] 임베딩 품질 평가 시스템

#### 9. 🌐 MCP (Model Context Protocol) 지원
- [ ] MCP 서버 구현
- [ ] 프로토콜 스펙 준수
- [ ] AI 모델 통합 인터페이스
- [ ] Claude/GPT 등 외부 모델 연동

#### 10. 🕷️ 웹 크롤링 & URL 기반 문서 수집 (상세)
- [ ] **URL 크롤링 API** - `POST /v1/crawl/url`
  - [ ] 웹페이지 크롤링 (HTML 파싱, 텍스트 추출)
  - [ ] PDF 파일 다운로드 및 텍스트 추출
  - [ ] 이미지 파일 OCR 처리 (PNG, JPG, JPEG)
  - [ ] Office 문서 처리 (DOCX, PPTX, XLSX)
  - [ ] 텍스트 파일 처리 (TXT, MD, CSV)
  - [ ] 압축 파일 처리 (ZIP, RAR)
- [ ] **URL 검증 및 전처리**
  - [ ] URL 형식 검증 및 정규화
  - [ ] 리다이렉트 처리 및 최종 URL 추적
  - [ ] 접근 권한 확인 (robots.txt, 인증)
  - [ ] 파일 크기 제한 및 타임아웃 설정
- [ ] **콘텐츠 처리 파이프라인**
  - [ ] 메타데이터 추출 (제목, 작성자, 생성일)
  - [ ] 텍스트 정제 및 구조화
  - [ ] 자동 언어 감지
  - [ ] 청킹 및 벡터화
- [ ] **크롤링 관리 시스템**
  - [ ] 크롤링 작업 큐 및 스케줄링
  - [ ] 재시도 로직 및 오류 처리
  - [ ] 크롤링 히스토리 및 상태 추적
  - [ ] 동시 크롤링 제한 및 속도 조절
- [x] 중복 문서 감지 및 처리 - 파일 해시 기반 구현 완료

#### 11. 🔗 외부 데이터 소스 연계
- [ ] 공공 데이터 API 연계
- [ ] 외부 API 통합 프레임워크
- [ ] 데이터 소스 관리
- [ ] 자동 데이터 수집 및 업데이트

#### 12. 🤖 AI 에이전트 기능
- [ ] 질의응답 시스템
- [ ] 문서 요약 기능
- [ ] 자동 태깅 및 분류
- [ ] 지능형 검색 추천

## 🛠️ 기술적 개선사항

### 🔧 코드 품질 & 구조
- [ ] 의존성 주입 패턴 도입
- [ ] 코드 문서화 확장
- [ ] 타입 힌트 완성도 향상

### 🧪 테스트 시스템
- [x] **종합 테스트 스위트** - 82개 테스트 케이스, 100% 성공률 달성
- [ ] 프론트엔드 단위 테스트 (Jest, React Testing Library)
- [ ] E2E 테스트 (Playwright)
- [ ] 부하 테스트 시나리오
- [ ] CI/CD 파이프라인 통합

### 📦 배포 & 운영
- [ ] 프론트엔드 Docker 컨테이너화
- [ ] Kubernetes 배포 설정
- [ ] 환경별 배포 스크립트
- [ ] 로드 밸런싱 설정
- [ ] 백업 및 복구 전략

## 🎯 풀스택 통합 개발 전략

### 📋 개발 방식 변경 이유

**기존 방식의 문제점:**
- 백엔드와 프론트엔드 분리 개발로 인한 통합 지연
- API 스펙 변경 시 프론트엔드 수정 비용 증가
- 실제 사용자 워크플로우 검증 지연
- UI/UX 피드백 반영 어려움

**새로운 풀스택 방식의 장점:**
- 기능별 완전한 사용자 경험 제공
- 즉시 피드백 및 반복 개발
- API와 UI의 동시 진화
- 실제 사용 시나리오 기반 검증

### 🏗️ 권장 기술 스택

**프론트엔드**
- **React 18** + **TypeScript** - 타입 안전성과 최신 기능
- **Vite** - 빠른 개발 서버와 빌드 (CRA 대비 5-10배 빠름)
- **Zustand** - 가벼운 상태 관리 (Redux보다 간단, 보일러플레이트 최소)
- **React Query (TanStack Query)** - 서버 상태 관리 및 캐싱
- **Ant Design** - 관리자 UI에 최적화된 컴포넌트 라이브러리
- **Recharts** - 차트 및 데이터 시각화
- **React Hook Form** - 성능 최적화된 폼 관리

**개발 도구**
- **ESLint + Prettier** - 코드 품질 관리
- **Husky + lint-staged** - Git hooks로 코드 품질 자동 검증

### 📋 개발 가이드라인

### 풀스택 개발 원칙
- ✅ 기능별 백엔드 + 프론트엔드 동시 개발
- ✅ API 우선 설계 (API First Design)
- ✅ 컴포넌트 기반 UI 개발
- ✅ 실시간 피드백 및 테스트
- ✅ 일관된 디자인 시스템

### 🔄 개발 워크플로우

**각 기능 개발 단계:**
1. **요구사항 분석** (1일)
   - 사용자 스토리 작성
   - API 스펙 초안 설계
   - UI 목업 작성

2. **백엔드 API 개발** (2-3일)
   - API 엔드포인트 구현
   - 데이터 모델 설계
   - 단위 테스트 작성

3. **프론트엔드 UI 개발** (2-3일)
   - 컴포넌트 구현
   - API 연동
   - 사용자 인터랙션 구현

4. **통합 테스트 및 개선** (1-2일)
   - E2E 테스트
   - 사용자 피드백 반영
   - 성능 최적화

### 우선순위 결정 기준
1. ✅ 핵심 RAG 기능 완성도 - **달성**
2. 🔄 사용자 경험 개선 - **진행 중 (React 전환)**
3. ✅ 시스템 안정성 - **달성**
4. 🔄 확장성 및 유지보수성 - **진행 중**

## 📚 관련 문서

- [구현 상태](docs/IMPLEMENTATION_STATUS.md) - 완료된 기능 및 현재 상태
- [성능 지표](docs/PERFORMANCE_METRICS.md) - 성능 테스트 결과 및 벤치마크
- [아키텍처 가이드](docs/ARCHITECTURE_GUIDE.md) - 시스템 구조 및 설계 원칙

---

**마지막 업데이트**: 2025-07-24 - 풀스택 통합 개발 방식으로 TODO 재구성
**다음 검토 예정**: 기본 프론트엔드 인프라 완료 후

## 🎉 최근 완료된 기능

### ✅ 코드베이스 정리 & 개발 환경 최적화 (2025-07-24)
- **임시 파일 정리**: temp_processing, test_outputs, __pycache__ 등 불필요한 파일 삭제
- **하드코딩된 값 환경변수화**: IP 주소, API 키 등을 환경변수로 분리
- **Makefile 수정**: 실제 존재하는 테스트 스크립트로 업데이트
- **문서 정리**: README 파일들의 실제 IP 주소를 예제 값으로 변경
- **개발 환경 개선**: .env.example에 새로운 환경변수 추가

### ✅ 종합 테스트 시스템 & 파일 검증 강화 (2025-07-13)
- **종합 테스트 스위트**: 82개 테스트 케이스로 모든 API 엔드포인트 검증
- **100% 테스트 성공률**: 모든 기능이 정상 작동 확인
- **빈 파일 거부 정책**: 검색 엔진 품질 향상을 위한 빈 파일 업로드 차단
- **특수 문자 처리**: JSON 이스케이프를 통한 제어 문자 검색 지원
- **성능 검증**: 모든 검색 유형 200ms 이하 응답 시간 달성
